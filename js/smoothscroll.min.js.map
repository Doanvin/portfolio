{"version":3,"sources":["smoothscroll.min.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","root","factory","define","amd","exports","module","SmoothScroll","global","window","undefined","supports","document","Element","defaults","ignore","header","speed","offset","easing","customEasing","before","after","extend","extended","i","length","arguments","merge","prop","hasOwnProperty","escapeCharacters","id","charAt","substr","codeUnit","string","String","index","result","firstCodeUnit","charCodeAt","InvalidCharacterError","toString","getHeaderHeight","elem","parseInt","getComputedStyle","height","offsetTop","selector","options","settings","anchor","toggle","fixedHeader","headerHeight","eventTimeout","animationInterval","smoothScroll","cancelScroll","cancelAnimationFrame","animateScroll","animateSettings","isNum","Object","call","anchorElem","tagName","startLocation","pageYOffset","querySelector","start","percentage","position","endLocation","location","offsetParent","Math","max","getEndLocation","distance","documentHeight","body","scrollHeight","documentElement","offsetHeight","clientHeight","timeLapsed","stopAnimateScroll","currentLocation","innerHeight","focus","activeElement","setAttribute","style","outline","scrollTo","requestAnimationFrame","loopAnimateScroll","timestamp","time","pattern","floor","hashChangeHandler","event","getAttribute","clickHandler","matchMedia","matches","button","metaKey","ctrlKey","target","closest","toLowerCase","hostname","pathname","test","href","hash","decodeURIComponent","e","preventDefault","substring","resizeThrottler","setTimeout","destroy","removeEventListener","init","addEventListener"],"mappings":"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","file":"smoothscroll.min.js","sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*!\n * smooth-scroll v12.1.5: Animate scrolling to anchor links\n * (c) 2017 Chris Ferdinandi\n * MIT License\n * http://github.com/cferdinandi/smooth-scroll\n */\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return factory(root);\n        });\n    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {\n        module.exports = factory(root);\n    } else {\n        root.SmoothScroll = factory(root);\n    }\n})(typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : undefined, function (window) {\n\n    'use strict';\n\n    //\n    // Feature Test\n    //\n\n    var supports = 'querySelector' in document && 'addEventListener' in window && 'requestAnimationFrame' in window && 'closest' in window.Element.prototype;\n\n    //\n    // Default settings\n    //\n\n    var defaults = {\n        // Selectors\n        ignore: '[data-scroll-ignore]',\n        header: null,\n\n        // Speed & Easing\n        speed: 500,\n        offset: 0,\n        easing: 'easeInOutCubic',\n        customEasing: null,\n\n        // Callback API\n        before: function before() {},\n        after: function after() {}\n    };\n\n    //\n    // Utility Methods\n    //\n\n    /**\n    * Merge two or more objects. Returns a new object.\n    * @param {Object}   objects  The objects to merge together\n    * @returns {Object}          Merged values of defaults and options\n    */\n    var extend = function extend() {\n\n        // Variables\n        var extended = {};\n        var deep = false;\n        var i = 0;\n        var length = arguments.length;\n\n        // Merge the object into the extended object\n        var merge = function merge(obj) {\n            for (var prop in obj) {\n                if (obj.hasOwnProperty(prop)) {\n                    extended[prop] = obj[prop];\n                }\n            }\n        };\n\n        // Loop through each object and conduct a merge\n        for (; i < length; i++) {\n            var obj = arguments[i];\n            merge(obj);\n        }\n\n        return extended;\n    };\n\n    /**\n    * Get the height of an element.\n    * @param  {Node} elem The element to get the height of\n    * @return {Number}    The element's height in pixels\n    */\n    var getHeight = function getHeight(elem) {\n        return parseInt(window.getComputedStyle(elem).height, 10);\n    };\n\n    /**\n    * Escape special characters for use with querySelector\n    * @param {String} id The anchor ID to escape\n    * @author Mathias Bynens\n    * @link https://github.com/mathiasbynens/CSS.escape\n    */\n    var escapeCharacters = function escapeCharacters(id) {\n\n        // Remove leading hash\n        if (id.charAt(0) === '#') {\n            id = id.substr(1);\n        }\n\n        var string = String(id);\n        var length = string.length;\n        var index = -1;\n        var codeUnit;\n        var result = '';\n        var firstCodeUnit = string.charCodeAt(0);\n        while (++index < length) {\n            codeUnit = string.charCodeAt(index);\n            // Note: there’s no need to special-case astral symbols, surrogate\n            // pairs, or lone surrogates.\n\n            // If the character is NULL (U+0000), then throw an\n            // `InvalidCharacterError` exception and terminate these steps.\n            if (codeUnit === 0x0000) {\n                throw new InvalidCharacterError('Invalid character: the input contains U+0000.');\n            }\n\n            if (\n            // If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n            // U+007F, […]\n            codeUnit >= 0x0001 && codeUnit <= 0x001F || codeUnit == 0x007F ||\n            // If the character is the first character and is in the range [0-9]\n            // (U+0030 to U+0039), […]\n            index === 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n            // If the character is the second character and is in the range [0-9]\n            // (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n            index === 1 && codeUnit >= 0x0030 && codeUnit <= 0x0039 && firstCodeUnit === 0x002D) {\n                // http://dev.w3.org/csswg/cssom/#escape-a-character-as-code-point\n                result += '\\\\' + codeUnit.toString(16) + ' ';\n                continue;\n            }\n\n            // If the character is not handled by one of the above rules and is\n            // greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n            // is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n            // U+005A), or [a-z] (U+0061 to U+007A), […]\n            if (codeUnit >= 0x0080 || codeUnit === 0x002D || codeUnit === 0x005F || codeUnit >= 0x0030 && codeUnit <= 0x0039 || codeUnit >= 0x0041 && codeUnit <= 0x005A || codeUnit >= 0x0061 && codeUnit <= 0x007A) {\n                // the character itself\n                result += string.charAt(index);\n                continue;\n            }\n\n            // Otherwise, the escaped character.\n            // http://dev.w3.org/csswg/cssom/#escape-a-character\n            result += '\\\\' + string.charAt(index);\n        }\n\n        return '#' + result;\n    };\n\n    /**\n    * Calculate the easing pattern\n    * @link https://gist.github.com/gre/1650294\n    * @param {String} type Easing pattern\n    * @param {Number} time Time animation should take to complete\n    * @returns {Number}\n    */\n    var easingPattern = function easingPattern(settings, time) {\n        var pattern;\n\n        // Default Easing Patterns\n        if (settings.easing === 'easeInQuad') pattern = time * time; // accelerating from zero velocity\n        if (settings.easing === 'easeOutQuad') pattern = time * (2 - time); // decelerating to zero velocity\n        if (settings.easing === 'easeInOutQuad') pattern = time < 0.5 ? 2 * time * time : -1 + (4 - 2 * time) * time; // acceleration until halfway, then deceleration\n        if (settings.easing === 'easeInCubic') pattern = time * time * time; // accelerating from zero velocity\n        if (settings.easing === 'easeOutCubic') pattern = --time * time * time + 1; // decelerating to zero velocity\n        if (settings.easing === 'easeInOutCubic') pattern = time < 0.5 ? 4 * time * time * time : (time - 1) * (2 * time - 2) * (2 * time - 2) + 1; // acceleration until halfway, then deceleration\n        if (settings.easing === 'easeInQuart') pattern = time * time * time * time; // accelerating from zero velocity\n        if (settings.easing === 'easeOutQuart') pattern = 1 - --time * time * time * time; // decelerating to zero velocity\n        if (settings.easing === 'easeInOutQuart') pattern = time < 0.5 ? 8 * time * time * time * time : 1 - 8 * --time * time * time * time; // acceleration until halfway, then deceleration\n        if (settings.easing === 'easeInQuint') pattern = time * time * time * time * time; // accelerating from zero velocity\n        if (settings.easing === 'easeOutQuint') pattern = 1 + --time * time * time * time * time; // decelerating to zero velocity\n        if (settings.easing === 'easeInOutQuint') pattern = time < 0.5 ? 16 * time * time * time * time * time : 1 + 16 * --time * time * time * time * time; // acceleration until halfway, then deceleration\n\n        // Custom Easing Patterns\n        if (settings.customEasing) pattern = settings.customEasing(time);\n\n        return pattern || time; // no easing, no acceleration\n    };\n\n    /**\n    * Determine the document's height\n    * @returns {Number}\n    */\n    var getDocumentHeight = function getDocumentHeight() {\n        return Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight);\n    };\n\n    /**\n    * Calculate how far to scroll\n    * @param {Element} anchor The anchor element to scroll to\n    * @param {Number} headerHeight Height of a fixed header, if any\n    * @param {Number} offset Number of pixels by which to offset scroll\n    * @returns {Number}\n    */\n    var getEndLocation = function getEndLocation(anchor, headerHeight, offset) {\n        var location = 0;\n        if (anchor.offsetParent) {\n            do {\n                location += anchor.offsetTop;\n                anchor = anchor.offsetParent;\n            } while (anchor);\n        }\n        location = Math.max(location - headerHeight - offset, 0);\n        return location;\n    };\n\n    /**\n    * Get the height of the fixed header\n    * @param  {Node}   header The header\n    * @return {Number}        The height of the header\n    */\n    var getHeaderHeight = function getHeaderHeight(header) {\n        return !header ? 0 : getHeight(header) + header.offsetTop;\n    };\n\n    /**\n    * Bring the anchored element into focus\n    * @param {Node}     anchor      The anchor element\n    * @param {Number}   endLocation The end location to scroll to\n    * @param {Boolean}  isNum       If true, scroll is to a position rather than an element\n    */\n    var adjustFocus = function adjustFocus(anchor, endLocation, isNum) {\n\n        // Don't run if scrolling to a number on the page\n        if (isNum) return;\n\n        // Otherwise, bring anchor element into focus\n        anchor.focus();\n        if (document.activeElement.id !== anchor.id) {\n            anchor.setAttribute('tabindex', '-1');\n            anchor.focus();\n            anchor.style.outline = 'none';\n        }\n        window.scrollTo(0, endLocation);\n    };\n\n    /**\n    * Check to see if user prefers reduced motion\n    * @param  {Object} settings Script settings\n    */\n    var reduceMotion = function reduceMotion(settings) {\n        if ('matchMedia' in window && window.matchMedia('(prefers-reduced-motion)').matches) {\n            return true;\n        }\n        return false;\n    };\n\n    //\n    // SmoothScroll Constructor\n    //\n\n    var SmoothScroll = function SmoothScroll(selector, options) {\n\n        //\n        // Variables\n        //\n\n        var smoothScroll = {}; // Object for public APIs\n        var settings, anchor, toggle, fixedHeader, headerHeight, eventTimeout, animationInterval;\n\n        //\n        // Methods\n        //\n\n        /**\n        * Cancel a scroll-in-progress\n        */\n        smoothScroll.cancelScroll = function () {\n            // clearInterval(animationInterval);\n            cancelAnimationFrame(animationInterval);\n        };\n\n        /**\n        * Start/stop the scrolling animation\n        * @param {Node|Number} anchor  The element or position to scroll to\n        * @param {Element}     toggle  The element that toggled the scroll event\n        * @param {Object}      options\n        */\n        smoothScroll.animateScroll = function (anchor, toggle, options) {\n\n            // Local settings\n            var animateSettings = extend(settings || defaults, options || {}); // Merge user options with defaults\n\n            // Selectors and variables\n            var isNum = Object.prototype.toString.call(anchor) === '[object Number]' ? true : false;\n            var anchorElem = isNum || !anchor.tagName ? null : anchor;\n            if (!isNum && !anchorElem) return;\n            var startLocation = window.pageYOffset; // Current location on the page\n            if (animateSettings.header && !fixedHeader) {\n                // Get the fixed header if not already set\n                fixedHeader = document.querySelector(animateSettings.header);\n            }\n            if (!headerHeight) {\n                // Get the height of a fixed header if one exists and not already set\n                headerHeight = getHeaderHeight(fixedHeader);\n            }\n            var endLocation = isNum ? anchor : getEndLocation(anchorElem, headerHeight, parseInt(typeof animateSettings.offset === 'function' ? animateSettings.offset() : animateSettings.offset, 10)); // Location to scroll to\n            var distance = endLocation - startLocation; // distance to travel\n            var documentHeight = getDocumentHeight();\n            var timeLapsed = 0;\n            var start, percentage, position;\n\n            /**\n            * Stop the scroll animation when it reaches its target (or the bottom/top of page)\n            * @param {Number} position Current position on the page\n            * @param {Number} endLocation Scroll to location\n            * @param {Number} animationInterval How much to scroll on this loop\n            */\n            var stopAnimateScroll = function stopAnimateScroll(position, endLocation) {\n\n                // Get the current location\n                var currentLocation = window.pageYOffset;\n\n                // Check if the end location has been reached yet (or we've hit the end of the document)\n                if (position == endLocation || currentLocation == endLocation || (startLocation < endLocation && window.innerHeight + currentLocation) >= documentHeight) {\n\n                    // Clear the animation timer\n                    smoothScroll.cancelScroll();\n\n                    // Bring the anchored element into focus\n                    adjustFocus(anchor, endLocation, isNum);\n\n                    // Run callback after animation complete\n                    animateSettings.after(anchor, toggle);\n\n                    // Reset start\n                    start = null;\n\n                    return true;\n                }\n            };\n\n            /**\n            * Loop scrolling animation\n            */\n            var loopAnimateScroll = function loopAnimateScroll(timestamp) {\n                if (!start) {\n                    start = timestamp;\n                }\n                timeLapsed += timestamp - start;\n                percentage = timeLapsed / parseInt(animateSettings.speed, 10);\n                percentage = percentage > 1 ? 1 : percentage;\n                position = startLocation + distance * easingPattern(animateSettings, percentage);\n                window.scrollTo(0, Math.floor(position));\n                if (!stopAnimateScroll(position, endLocation)) {\n                    window.requestAnimationFrame(loopAnimateScroll);\n                    start = timestamp;\n                }\n            };\n\n            /**\n            * Reset position to fix weird iOS bug\n            * @link https://github.com/cferdinandi/smooth-scroll/issues/45\n            */\n            if (window.pageYOffset === 0) {\n                window.scrollTo(0, 0);\n            }\n\n            // Run callback before animation starts\n            animateSettings.before(anchor, toggle);\n\n            // Start scrolling animation\n            smoothScroll.cancelScroll();\n            window.requestAnimationFrame(loopAnimateScroll);\n        };\n\n        /**\n        * Handle has change event\n        */\n        var hashChangeHandler = function hashChangeHandler(event) {\n\n            // Only run if there's an anchor element to scroll to\n            if (!anchor) return;\n\n            // Reset the anchor element's ID\n            anchor.id = anchor.getAttribute('data-scroll-id');\n\n            // Scroll to the anchored content\n            smoothScroll.animateScroll(anchor, toggle);\n\n            // Reset anchor and toggle\n            anchor = null;\n            toggle = null;\n        };\n\n        /**\n        * If smooth scroll element clicked, animate scroll\n        */\n        var clickHandler = function clickHandler(event) {\n\n            // Don't run if the user prefers reduced motion\n            if (reduceMotion(settings)) return;\n\n            // Don't run if right-click or command/control + click\n            if (event.button !== 0 || event.metaKey || event.ctrlKey) return;\n\n            // Check if a smooth scroll link was clicked\n            toggle = event.target.closest(selector);\n            if (!toggle || toggle.tagName.toLowerCase() !== 'a' || event.target.closest(settings.ignore)) return;\n\n            // Only run if link is an anchor and points to the current page\n            if (toggle.hostname !== window.location.hostname || toggle.pathname !== window.location.pathname || !/#/.test(toggle.href)) return;\n\n            // Get the sanitized hash\n            var hash;\n            try {\n                hash = escapeCharacters(decodeURIComponent(toggle.hash));\n            } catch (e) {\n                hash = escapeCharacters(toggle.hash);\n            }\n\n            // If the hash is empty, scroll to the top of the page\n            if (hash === '#') {\n\n                // Prevent default link behavior\n                event.preventDefault();\n\n                // Set the anchored element\n                anchor = document.body;\n\n                // Save or create the ID as a data attribute and remove it (prevents scroll jump)\n                var id = anchor.id ? anchor.id : 'smooth-scroll-top';\n                anchor.setAttribute('data-scroll-id', id);\n                anchor.id = '';\n\n                // If no hash change event will happen, fire manually\n                // Otherwise, update the hash\n                if (window.location.hash.substring(1) === id) {\n                    hashChangeHandler();\n                } else {\n                    window.location.hash = id;\n                }\n\n                return;\n            }\n\n            // Get the anchored element\n            anchor = document.querySelector(hash);\n\n            // If anchored element exists, save the ID as a data attribute and remove it (prevents scroll jump)\n            if (!anchor) return;\n            anchor.setAttribute('data-scroll-id', anchor.id);\n            anchor.id = '';\n\n            // If no hash change event will happen, fire manually\n            if (toggle.hash === window.location.hash) {\n                event.preventDefault();\n                hashChangeHandler();\n            }\n        };\n\n        /**\n        * On window scroll and resize, only run events at a rate of 15fps for better performance\n        */\n        var resizeThrottler = function resizeThrottler(event) {\n            if (!eventTimeout) {\n                eventTimeout = setTimeout(function () {\n                    eventTimeout = null; // Reset timeout\n                    headerHeight = getHeaderHeight(fixedHeader); // Get the height of a fixed header if one exists\n                }, 66);\n            }\n        };\n\n        /**\n        * Destroy the current initialization.\n        */\n        smoothScroll.destroy = function () {\n\n            // If plugin isn't already initialized, stop\n            if (!settings) return;\n\n            // Remove event listeners\n            document.removeEventListener('click', clickHandler, false);\n            window.removeEventListener('resize', resizeThrottler, false);\n\n            // Cancel any scrolls-in-progress\n            smoothScroll.cancelScroll();\n\n            // Reset variables\n            settings = null;\n            anchor = null;\n            toggle = null;\n            fixedHeader = null;\n            headerHeight = null;\n            eventTimeout = null;\n            animationInterval = null;\n        };\n\n        /**\n        * Initialize Smooth Scroll\n        * @param {Object} options User settings\n        */\n        smoothScroll.init = function (options) {\n\n            // feature test\n            if (!supports) return;\n\n            // Destroy any existing initializations\n            smoothScroll.destroy();\n\n            // Selectors and variables\n            settings = extend(defaults, options || {}); // Merge user options with defaults\n            fixedHeader = settings.header ? document.querySelector(settings.header) : null; // Get the fixed header\n            headerHeight = getHeaderHeight(fixedHeader);\n\n            // When a toggle is clicked, run the click handler\n            document.addEventListener('click', clickHandler, false);\n\n            // Listen for hash changes\n            window.addEventListener('hashchange', hashChangeHandler, false);\n\n            // If window is resized and there's a fixed header, recalculate its size\n            if (fixedHeader) {\n                window.addEventListener('resize', resizeThrottler, false);\n            }\n        };\n\n        //\n        // Initialize plugin\n        //\n\n        smoothScroll.init(options);\n\n        //\n        // Public APIs\n        //\n\n        return smoothScroll;\n    };\n\n    return SmoothScroll;\n});"]}